(()=>{"use strict";var e={1484:(e,t,r)=>{var a,i=r(5831),n=r(7891),s=r(498),o=r(3143),l={},d=!1,u={},f={},c=!1;function h(e,t){l.init.numberOfCells();var r=s.Z(e),a=l.init.clone();try{for(;a.iterations()<t;)if(i.DG(a,{runTime:r,maxIterations:t}),e){let e=a.extractCoordinates();o.b({type:"tsne_iter",x:e.x,y:e.y,iteration:a.iterations()},[e.x.buffer,e.y.buffer])}l.final=a.extractCoordinates()}finally{a.free()}}o.j((e=>{var t=e.data.id;c?o.b({id:t,type:"error",error:"t-SNE worker is dead and cannot process messages"}):"INIT"==e.data.cmd?(a=i.j2(e.data.scranOptions)).then((e=>{o.b({id:t,type:"init_worker",data:{status:"SUCCESS"}})})).catch((e=>{o.b({id:t,type:"error",error:e})})):"RUN"==e.data.cmd?a.then((r=>{var a;"neighbors"in e.data?(n.Yl(l.neighbors),l.neighbors=s.q(e.data.neighbors),a=!0):a=!1;var c={perplexity:e.data.params.perplexity};a||n.xi(c,u)?(n.Yl(l.init),l.init=i.xv(l.neighbors,{perplexity:c.perplexity}),u=c,d=!0):d=!1;var p={iterations:e.data.params.iterations};(d||n.xi(p,f))&&(h(e.data.params.animate,p.iterations),f=p),o.b({id:t,type:"tsne_run",data:{status:"SUCCESS"}})})).catch((e=>{o.b({id:t,type:"error",error:e})})):"RERUN"==e.data.cmd?a.then((e=>{h(!0,f.iterations),o.b({id:t,type:"tsne_rerun",data:{status:"SUCCESS"}})})).catch((e=>{o.b({id:t,type:"error",error:e})})):"FETCH"==e.data.cmd?a.then((e=>{var r={x:l.final.x.slice(),y:l.final.y.slice(),iterations:f.iterations},a=[r.x.buffer,r.y.buffer];o.b({id:t,type:"tsne_fetch",data:r},a)})).catch((e=>{o.b({id:t,type:"error",error:e})})):"KILL"==e.data.cmd?(c=!0,a.then((e=>{i.RA(),o.b({id:t,type:"tsne_killed",data:null})})).catch((e=>{o.b({id:t,type:"error",error:e})}))):o.b({id:t,type:"error",error:"unknown message type '"+JSON.stringify(e.data)+"'"})}))},5831:(e,t,r)=>{r.d(t,{DG:()=>s.DG,RA:()=>a.RA,RJ:()=>i.RJ,Wf:()=>i.Wf,gd:()=>i.gd,j2:()=>a.j2,qv:()=>n.qv,xv:()=>s.xv});var a=r(8782),i=r(6635),n=(r(8311),r(6663),r(489),r(6126),r(118),r(5644),r(4292),r(5470),r(1196),r(5219),r(5448),r(9206),r(2945),r(7339),r(6757),r(4609),r(8420),r(845),r(9283),r(6974),r(1184),r(4812),r(6199),r(5159),r(7067)),s=(r(9273),r(4181));r(5319),r(2494),r(5696),r(2732),r(9249),r(3779),r(7039),r(5538),r(7644),r(6961),r(2306),r(4021),r(4755)},4181:(e,t,r)=>{r.d(t,{DG:()=>v,xv:()=>b});var a=r(2346),i=r(8916),n=r(2793),s=r(6635),o=r(8782),l=r(7108),d=r(7067),u=new WeakMap,f=new WeakMap,c=new WeakMap;class h{constructor(e,t,r){(0,a.Z)(this,u,{writable:!0,value:void 0}),(0,a.Z)(this,f,{writable:!0,value:void 0}),(0,a.Z)(this,c,{writable:!0,value:void 0}),(0,n.Z)(this,u,e),(0,n.Z)(this,f,t),(0,n.Z)(this,c,r)}get status(){return(0,i.Z)(this,f)}get coordinates(){return(0,i.Z)(this,c)}clone(){return l.R((e=>(0,i.Z)(this,f).deepcopy()),h,(0,i.Z)(this,c).clone())}numberOfCells(){return(0,i.Z)(this,f).num_obs()}iterations(){return(0,i.Z)(this,f).iterations()}extractCoordinates(){return s.ab(this.numberOfCells(),(0,i.Z)(this,c).array())}free(){null!==(0,i.Z)(this,f)&&(l.A((0,i.Z)(this,u)),(0,n.Z)(this,f,null)),null!==(0,i.Z)(this,c)&&((0,i.Z)(this,c).free(),(0,n.Z)(this,c,null))}}function p(e){return o.RE((t=>t.perplexity_to_k(e)))}function b(e){let{perplexity:t=30,checkMismatch:r=!0,numberOfThreads:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i,n,u;let f=s.mV(a);try{let a;if(e instanceof d.ZF){let r=p(t);i=(0,d.wf)(e,r,{numberOfThreads:f}),a=i}else{if(r){if(p(t)*e.numberOfCells()!=e.size())throw new Error("number of neighbors in 'x' does not match '3 * perplexity'")}a=e}n=s.RJ(2*a.numberOfCells()),o.RE((e=>e.randomize_tsne_start(a.numberOfCells(),n.offset,42))),u=l.R((e=>e.initialize_tsne(a.results,t,f)),h,n)}catch(c){throw s.gd(u),s.gd(n),c}finally{s.gd(i)}return u}function v(e){let{maxIterations:t=1e3,runTime:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===r&&(r=-1),o.RE((a=>a.run_tsne(e.status,r,t,e.coordinates.offset)))}},5319:(e,t,r)=>{r(6635),r(8782),r(7108),r(7067)}},t={};function r(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.m=e,r.x=()=>{var e=r.O(void 0,[375,525],(()=>r(1484)));return e=r.O(e)},(()=>{var e=[];r.O=(t,a,i,n)=>{if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],n=e[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((e=>r.O[e](a[l])))?a.splice(l--,1):(o=!1,n<s&&(s=n));if(o){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,i,n]}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[])),r.u=e=>"static/js/"+e+"."+{375:"4df72595",525:"012a6612",909:"5e5ec0f8"}[e]+".chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.p="/kana/",(()=>{r.b=self.location+"/../../../";var e={484:1};r.f.i=(t,a)=>{e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkkana=self.webpackChunkkana||[],a=t.push.bind(t);t.push=t=>{var i=t[0],n=t[1],s=t[2];for(var o in n)r.o(n,o)&&(r.m[o]=n[o]);for(s&&s(r);i.length;)e[i.pop()]=1;a(t)}})(),(()=>{var e=r.x;r.x=()=>Promise.all([r.e(375),r.e(525)]).then(e)})();r.x()})();
//# sourceMappingURL=484.b4e5302b.chunk.js.map