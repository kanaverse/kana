(()=>{"use strict";var t={3343:(t,r,e)=>{var a,n=e(7990),i=e(1276),s=e(1820),o=e(6194),c={},u=!1,d={},l={},h=!1;function p(t){var r=s.n(t),e=c.init.clone();try{for(c.total=e.totalEpochs();e.currentEpoch()<c.total;)if(n.d8(e,{runTime:r}),t){var a=e.extractCoordinates();o._({type:"umap_iter",x:a.x,y:a.y,iteration:e.currentEpoch()},[a.x.buffer,a.y.buffer])}c.final=e.extractCoordinates()}finally{e.free()}}o.r((t=>{var r=t.data.id;h?o._({id:r,type:"error",error:"UMAP worker is dead and cannot process messages"}):"INIT"==t.data.cmd?(a=n.n_(t.data.scranOptions)).then((t=>{o._({id:r,type:"init_worker",data:{status:"SUCCESS"}})})).catch((t=>{o._({id:r,type:"error",error:t})})):"RUN"==t.data.cmd?a.then((e=>{var a;"neighbors"in t.data?(i.xr(c.neighbors),c.neighbors=s.f(t.data.neighbors),a=!0):a=!1;var h={min_dist:t.data.params.min_dist,num_epochs:t.data.params.num_epochs};a||i.PG(h,d)?(i.xr(c.init),c.init=n.w5(c.neighbors,{epochs:h.num_epochs,minDist:h.min_dist}),d=h,u=!0):u=!1;var f={};(u||i.PG(f,l))&&(p(t.data.params.animate),l=f),o._({id:r,type:"umap_run",data:{status:"SUCCESS"}})})).catch((t=>{o._({id:r,type:"error",error:t})})):"RERUN"==t.data.cmd?a.then((t=>{p(!0),o._({id:r,type:"umap_rerun",data:{status:"SUCCESS"}})})).catch((t=>{o._({id:r,type:"error",error:t})})):"FETCH"==t.data.cmd?a.then((t=>{var e={x:c.final.x.slice(),y:c.final.y.slice(),iterations:c.total},a=[e.x.buffer,e.y.buffer];o._({id:r,type:"umap_fetch",data:e},a)})).catch((t=>{o._({id:r,type:"error",error:t})})):"KILL"==t.data.cmd?(h=!0,a.then((t=>{n.MH(),o._({id:r,type:"umap_killed",data:null})})).catch((t=>{o._({id:r,type:"error",error:t})}))):o._({id:r,type:"error",error:"unknown message type '"+JSON.stringify(t.data)+"'"})}))},7571:(t,r,e)=>{e(7031),e(6524),e(2322),e(4718)},7990:(t,r,e)=>{e.d(r,{MH:()=>a.MH,d8:()=>s.d8,k3:()=>n.k3,kl:()=>n.kl,n_:()=>a.n_,ny:()=>i.ny,t9:()=>n.t9,w5:()=>s.w5});var a=e(6524),n=e(7031),i=(e(5243),e(7241),e(34),e(209),e(8960),e(3911),e(6077),e(5784),e(5090),e(6876),e(6273),e(6617),e(3261),e(6218),e(886),e(988),e(6497),e(2947),e(4833),e(2695),e(1334),e(693),e(1101),e(4047),e(4718)),s=(e(4011),e(7571),e(8652));e(6869),e(5503),e(1602),e(9841),e(3607),e(8926),e(7579),e(7379),e(9723),e(3128),e(7778),e(9846)},8652:(t,r,e)=>{e.d(r,{d8:()=>m,w5:()=>f});var a=e(5149),n=e(8458),i=e(4558),s=e(7031),o=e(6524),c=e(2322),u=e(4718),d=new WeakMap,l=new WeakMap,h=new WeakMap;class p{constructor(t,r,e){(0,a.A)(this,d,void 0),(0,a.A)(this,l,void 0),(0,a.A)(this,h,void 0),(0,i.A)(d,this,t),(0,i.A)(l,this,r),(0,i.A)(h,this,e)}get status(){return(0,n.A)(l,this)}get coordinates(){return(0,n.A)(h,this)}clone(){return c.T((t=>(0,n.A)(l,this).deepcopy()),p,(0,n.A)(h,this).clone())}numberOfCells(){return(0,n.A)(l,this).num_obs()}currentEpoch(){return(0,n.A)(l,this).epoch()}totalEpochs(){return(0,n.A)(l,this).num_epochs()}extractCoordinates(){return s.VM(this.numberOfCells(),(0,n.A)(h,this).array())}free(){null!==(0,n.A)(l,this)&&(c._((0,n.A)(d,this)),(0,i.A)(l,this,null)),null!==(0,n.A)(h,this)&&((0,n.A)(h,this).free(),(0,i.A)(h,this,null))}}function f(t){let{neighbors:r=15,epochs:e=500,minDist:a=.01,numberOfThreads:n=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i,o,d;let l=s.J2(n);try{let n;t instanceof u.pb?(i=(0,u.jw)(t,r,{numberOfThreads:l}),n=i):n=t,o=s.k3(2*n.numberOfCells()),d=c.T((t=>t.initialize_umap(n.results,e,a,o.offset,l)),p,o)}catch(h){throw s.t9(d),s.t9(o),h}finally{s.t9(i)}return d}function m(t){let{runTime:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===r&&(r=-1),o.T1((e=>e.run_umap(t.status,r,t.coordinates.offset)))}}},r={};function e(a){var n=r[a];if(void 0!==n)return n.exports;var i=r[a]={exports:{}};return t[a](i,i.exports,e),i.exports}e.m=t,e.x=()=>{var t=e.O(void 0,[764,115],(()=>e(3343)));return t=e.O(t)},(()=>{var t=[];e.O=(r,a,n,i)=>{if(!a){var s=1/0;for(d=0;d<t.length;d++){a=t[d][0],n=t[d][1],i=t[d][2];for(var o=!0,c=0;c<a.length;c++)(!1&i||s>=i)&&Object.keys(e.O).every((t=>e.O[t](a[c])))?a.splice(c--,1):(o=!1,i<s&&(s=i));if(o){t.splice(d--,1);var u=n();void 0!==u&&(r=u)}}return r}i=i||0;for(var d=t.length;d>0&&t[d-1][2]>i;d--)t[d]=t[d-1];t[d]=[a,n,i]}})(),e.d=(t,r)=>{for(var a in r)e.o(r,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},e.f={},e.e=t=>Promise.all(Object.keys(e.f).reduce(((r,a)=>(e.f[a](t,r),r)),[])),e.u=t=>"static/js/"+t+"."+{115:"2207c6d4",764:"c63fbfc6",814:"75f32851"}[t]+".chunk.js",e.miniCssF=t=>{},e.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),e.p="/kana/",(()=>{e.b=self.location+"/../../../";var t={343:1};e.f.i=(r,a)=>{t[r]||importScripts(e.p+e.u(r))};var r=self.webpackChunkkana=self.webpackChunkkana||[],a=r.push.bind(r);r.push=r=>{var n=r[0],i=r[1],s=r[2];for(var o in i)e.o(i,o)&&(e.m[o]=i[o]);for(s&&s(e);n.length;)t[n.pop()]=1;a(r)}})(),(()=>{var t=e.x;e.x=()=>Promise.all([e.e(764),e.e(115)]).then(t)})();e.x()})();
//# sourceMappingURL=343.41526f1f.chunk.js.map