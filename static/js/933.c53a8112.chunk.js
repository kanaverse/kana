(()=>{"use strict";var e={1933:(e,r,t)=>{var a,i=t(5831),n=t(7891),s=t(498),o=t(3143),l={},u=!1,c={},d={},h=!1;function p(e){var r=s.Z(e),t=l.init.clone();try{for(l.total=t.totalEpochs();t.currentEpoch()<l.total;)if(i.q7(t,{runTime:r}),e){var a=t.extractCoordinates();o.b({type:"umap_iter",x:a.x,y:a.y,iteration:t.currentEpoch()},[a.x.buffer,a.y.buffer])}l.final=t.extractCoordinates()}finally{t.free()}}o.j((e=>{var r=e.data.id;h?o.b({id:r,type:"error",error:"UMAP worker is dead and cannot process messages"}):"INIT"==e.data.cmd?(a=i.j2(e.data.scranOptions)).then((e=>{o.b({id:r,type:"init_worker",data:{status:"SUCCESS"}})})).catch((e=>{o.b({id:r,type:"error",error:e})})):"RUN"==e.data.cmd?a.then((t=>{var a;"neighbors"in e.data?(n.Yl(l.neighbors),l.neighbors=s.q(e.data.neighbors),a=!0):a=!1;var h={min_dist:e.data.params.min_dist,num_epochs:e.data.params.num_epochs};a||n.xi(h,c)?(n.Yl(l.init),l.init=i.fD(l.neighbors,{epochs:h.num_epochs,minDist:h.min_dist}),c=h,u=!0):u=!1;var f={};(u||n.xi(f,d))&&(p(e.data.params.animate),d=f),o.b({id:r,type:"umap_run",data:{status:"SUCCESS"}})})).catch((e=>{o.b({id:r,type:"error",error:e})})):"RERUN"==e.data.cmd?a.then((e=>{p(!0),o.b({id:r,type:"umap_rerun",data:{status:"SUCCESS"}})})).catch((e=>{o.b({id:r,type:"error",error:e})})):"FETCH"==e.data.cmd?a.then((e=>{var t={x:l.final.x.slice(),y:l.final.y.slice(),iterations:l.total},a=[t.x.buffer,t.y.buffer];o.b({id:r,type:"umap_fetch",data:t},a)})).catch((e=>{o.b({id:r,type:"error",error:e})})):"KILL"==e.data.cmd?(h=!0,a.then((e=>{i.RA(),o.b({id:r,type:"umap_killed",data:null})})).catch((e=>{o.b({id:r,type:"error",error:e})}))):o.b({id:r,type:"error",error:"unknown message type '"+JSON.stringify(e.data)+"'"})}))},5831:(e,r,t)=>{t.d(r,{RA:()=>a.RA,RJ:()=>i.RJ,Wf:()=>i.Wf,fD:()=>s.fD,gd:()=>i.gd,j2:()=>a.j2,q7:()=>s.q7,qv:()=>n.qv});var a=t(8782),i=t(6635),n=(t(8311),t(6663),t(489),t(6126),t(118),t(5644),t(4292),t(5470),t(1196),t(5219),t(5448),t(9206),t(2945),t(7339),t(6757),t(4609),t(8420),t(845),t(9283),t(6974),t(1184),t(4812),t(6199),t(5159),t(7067)),s=(t(9273),t(4181),t(5319));t(2494),t(5696),t(2732),t(9249),t(3779),t(7039),t(5538),t(7644),t(6961),t(2306),t(4021),t(4755)},4181:(e,r,t)=>{t(6635),t(8782),t(7108),t(7067)},5319:(e,r,t)=>{t.d(r,{fD:()=>f,q7:()=>m});var a=t(2346),i=t(8916),n=t(2793),s=t(6635),o=t(8782),l=t(7108),u=t(7067),c=new WeakMap,d=new WeakMap,h=new WeakMap;class p{constructor(e,r,t){(0,a.Z)(this,c,{writable:!0,value:void 0}),(0,a.Z)(this,d,{writable:!0,value:void 0}),(0,a.Z)(this,h,{writable:!0,value:void 0}),(0,n.Z)(this,c,e),(0,n.Z)(this,d,r),(0,n.Z)(this,h,t)}get status(){return(0,i.Z)(this,d)}get coordinates(){return(0,i.Z)(this,h)}clone(){return l.R((e=>(0,i.Z)(this,d).deepcopy()),p,(0,i.Z)(this,h).clone())}numberOfCells(){return(0,i.Z)(this,d).num_obs()}currentEpoch(){return(0,i.Z)(this,d).epoch()}totalEpochs(){return(0,i.Z)(this,d).num_epochs()}extractCoordinates(){return s.ab(this.numberOfCells(),(0,i.Z)(this,h).array())}free(){null!==(0,i.Z)(this,d)&&(l.A((0,i.Z)(this,c)),(0,n.Z)(this,d,null)),null!==(0,i.Z)(this,h)&&((0,i.Z)(this,h).free(),(0,n.Z)(this,h,null))}}function f(e){let{neighbors:r=15,epochs:t=500,minDist:a=.01,numberOfThreads:i=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,o,c;let d=s.mV(i);try{let i;e instanceof u.ZF?(n=(0,u.wf)(e,r,{numberOfThreads:d}),i=n):i=e,o=s.RJ(2*i.numberOfCells()),c=l.R((e=>e.initialize_umap(i.results,t,a,o.offset,d)),p,o)}catch(h){throw s.gd(c),s.gd(o),h}finally{s.gd(n)}return c}function m(e){let{runTime:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===r&&(r=-1),o.RE((t=>t.run_umap(e.status,r,e.coordinates.offset)))}}},r={};function t(a){var i=r[a];if(void 0!==i)return i.exports;var n=r[a]={exports:{}};return e[a](n,n.exports,t),n.exports}t.m=e,t.x=()=>{var e=t.O(void 0,[86,525],(()=>t(1933)));return e=t.O(e)},(()=>{var e=[];t.O=(r,a,i,n)=>{if(!a){var s=1/0;for(c=0;c<e.length;c++){a=e[c][0],i=e[c][1],n=e[c][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||s>=n)&&Object.keys(t.O).every((e=>t.O[e](a[l])))?a.splice(l--,1):(o=!1,n<s&&(s=n));if(o){e.splice(c--,1);var u=i();void 0!==u&&(r=u)}}return r}n=n||0;for(var c=e.length;c>0&&e[c-1][2]>n;c--)e[c]=e[c-1];e[c]=[a,i,n]}})(),t.d=(e,r)=>{for(var a in r)t.o(r,a)&&!t.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:r[a]})},t.f={},t.e=e=>Promise.all(Object.keys(t.f).reduce(((r,a)=>(t.f[a](e,r),r)),[])),t.u=e=>"static/js/"+e+"."+{86:"ac3d5bbd",525:"a985dee2",909:"5e5ec0f8"}[e]+".chunk.js",t.miniCssF=e=>{},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t.p="/kana/",(()=>{t.b=self.location+"/../../../";var e={933:1};t.f.i=(r,a)=>{e[r]||importScripts(t.p+t.u(r))};var r=self.webpackChunkkana=self.webpackChunkkana||[],a=r.push.bind(r);r.push=r=>{var i=r[0],n=r[1],s=r[2];for(var o in n)t.o(n,o)&&(t.m[o]=n[o]);for(s&&s(t);i.length;)e[i.pop()]=1;a(r)}})(),(()=>{var e=t.x;t.x=()=>Promise.all([t.e(86),t.e(525)]).then(e)})();t.x()})();
//# sourceMappingURL=933.c53a8112.chunk.js.map