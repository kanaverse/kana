"use strict";(self.webpackChunkkana=self.webpackChunkkana||[]).push([[525],{3143:(e,r,n)=>{function t(e){self.onmessage=e}function s(e,r){self.postMessage(e,r)}n.d(r,{b:()=>s,j:()=>t})},7891:(e,r,n)=>{n.d(r,{Yl:()=>s,xi:()=>i});var t=n(5831);function s(e){t.gd(e)}function a(e,r,n,t){if(!n&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e)))throw new Error("parameters cannot contain ArrayBuffers or their views");if(!t&&(r instanceof ArrayBuffer||ArrayBuffer.isView(r)))throw new Error("parameters cannot contain ArrayBuffers or their views")}function i(e,r){if(typeof e!=typeof r)return a(e,r,!1,!1),!0;if("object"!=typeof e)return e!=r;let n=null===e,t=null===r;if(n!==t)return a(e,r,n,t),!0;if(n)return!1;let s=e instanceof Array,l=r instanceof Array;if(s!=l)return a(e,r,s,l),!0;if(s){if(e.length!=r.length)return!0;for(var o=0;o<e.length;o++)if(i(e[o],r[o]))return!0;return!1}a(e,r,!1,!1);let f=Object.keys(e),u=Object.keys(r);if(f.length!=u.length)return!0;f.sort(),u.sort();for(o=0;o<f.length;o++)if(f[o]!=u[o])return!0;for(const a of f)if(i(e[a],r[a]))return!0;return!1}},498:(e,r,n)=>{n.d(r,{Z:()=>s,q:()=>a});var t=n(5831);function s(e){return e?75:1e6}function a(e){var r=null,n=null,s=null,a=null;try{var i=e.num_obs,l=e.size;(n=t.Wf(i)).set(e.runs),(s=t.Wf(l)).set(e.indices),(a=t.RJ(l)).set(e.distances),r=t.qv.unserialize(n,s,a)}finally{null!==n&&n.free(),null!==s&&s.free(),null!==a&&a.free()}return r}},4021:(e,r,n)=>{n(6635)},2306:(e,r,n)=>{n(6635),n(7108),n(6650)},5941:(e,r,n)=>{n(8782)},3102:(e,r,n)=>{n(489)},6961:(e,r,n)=>{n(7108),n(6635),n(2306)},5644:(e,r,n)=>{n(6635),n(6650),n(4292)},5470:(e,r,n)=>{n(6635),n(2306),n(7108)},6199:(e,r,n)=>{n(6635),n(4812)},2494:(e,r,n)=>{n(6635),n(7108),n(5159)},9273:(e,r,n)=>{n(6635),n(7108),n(7067)},4292:(e,r,n)=>{n.d(r,{KB:()=>a});var t=n(6650),s=n(6635);function a(e){let r,n,{asWasmArray:a=!0,buffer:l=null,levels:o=null,action:f="error",placeholder:u=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("warn"==f){let e=!1;n=()=>{e||(console.warn("replacing invalid values with the placeholder index '"+String(u)+"'"),e=!0)}}else if("none"==f)n=()=>{};else{if("error"!=f)throw new Error("unknown action '"+f+"' for handling invalid entries");n=()=>{throw new Error("detected invalid value (e.g., null, NaN) in 'x'")}}try{if(null==l)r=a?s.Wf(e.length):new Int32Array(e.length),l=r;else{if(l.length!==e.length)throw new Error("'buffer' should have length equal to that of 'x'");a=l instanceof t.do}let f=a?l.array():l,d=new Map;if(null==o){o=[];for(var c=0;c<e.length;c++){let r=e[c];if(null==r||"number"==typeof r&&!Number.isFinite(r)){n(),f[c]=u;continue}let t=d.get(r);if("undefined"==typeof t){let e=o.length;d.set(r,e),o.push(r),f[c]=e}else f[c]=t}if(o.every((e=>"string"==typeof e))){let e=o.slice();o.sort(),i({ids:l,levels:e},o)}else if(o.every((e=>"number"==typeof e))){let e=o.slice();o.sort(((e,r)=>e-r)),i({ids:l,levels:e},o)}}else{for(var h=0;h<o.length;h++)d.set(o[h],h);for(c=0;c<e.length;c++){let r=e[c],t=d.get(r);"undefined"==typeof t?(n(),f[c]=u):f[c]=t}}}catch(d){throw r instanceof t.PQ&&s.gd(r),d}return{ids:l,levels:o}}function i(e,r){let n,{action:s="error",placeholder:a=-1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Map;for(var l=0;l<r.length;l++)i.set(r[l],l);if("warn"==s){let e=!1;n=()=>{e||(console.warn("replacing missing levels with the placeholder index '"+String(a)+"'"),e=!0)}}else if("none"==s)n=()=>{};else{if("error"!=s)throw new Error("unknown action '"+s+"' for handling missing levels");n=()=>{throw new Error("detected level in 'x.levels' that is missing from 'newLevels'")}}let o=e.levels,f=new Array(o.length);for(l=0;l<o.length;l++){let e=i.get(o[l]);"undefined"==typeof e?(n(),f[l]=a):f[l]=e}e.levels=r;let u=e.ids;u instanceof t.PQ&&(u=u.array()),u.forEach(((e,r)=>{e!==a&&(u[r]=f[e])}))}},489:(e,r,n)=>{n(5941)},8420:(e,r,n)=>{n(7108),n(6635)},7067:(e,r,n)=>{n.d(r,{ZF:()=>u,qv:()=>d,wf:()=>y});var t=n(2346),s=n(8916),a=n(2793),i=n(6635),l=n(7108),o=(n(5159),new WeakMap),f=new WeakMap;class u{constructor(e,r){(0,t.Z)(this,o,{writable:!0,value:void 0}),(0,t.Z)(this,f,{writable:!0,value:void 0}),(0,a.Z)(this,o,e),(0,a.Z)(this,f,r)}numberOfCells(){return(0,s.Z)(this,f).num_obs()}numberOfDims(){return(0,s.Z)(this,f).num_dim()}free(){null!==(0,s.Z)(this,f)&&(l.A((0,s.Z)(this,o)),(0,a.Z)(this,f,null))}get index(){return(0,s.Z)(this,f)}}var c=new WeakMap,h=new WeakMap;class d{constructor(e,r){(0,t.Z)(this,c,{writable:!0,value:void 0}),(0,t.Z)(this,h,{writable:!0,value:void 0}),(0,a.Z)(this,c,e),(0,a.Z)(this,h,r)}size(){return(0,s.Z)(this,h).size()}numberOfCells(){return(0,s.Z)(this,h).num_obs()}get results(){return(0,s.Z)(this,h)}serialize(){let{runs:e=null,indices:r=null,distances:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,a,l,o,f=(null===e)+(null===r)+(null===n);if(3!=f&&0!=f)throw new Error("either all or none of 'runs', 'indices' and 'distances' can be 'null'");if(3===f)try{a=i.Wf(this.numberOfCells());let e=this.size();l=i.Wf(e),o=i.RJ(e),(0,s.Z)(this,h).serialize(a.offset,l.offset,o.offset),t={runs:a.slice(),indices:l.slice(),distances:o.slice()}}finally{i.gd(a),i.gd(l),i.gd(o)}else(0,s.Z)(this,h).serialize(e.offset,r.offset,n.offset),t={runs:e.array(),indices:r.array(),distances:n.array()};return t}static unserialize(e,r,n){var t,s,a,o;try{s=i.de(e,"Int32WasmArray"),a=i.de(r,"Int32WasmArray"),o=i.de(n,"Float64WasmArray"),t=l.R((r=>new r.NeighborResults(e.length,s.offset,a.offset,o.offset)),d)}catch(f){throw i.gd(t),f}finally{i.gd(s),i.gd(a),i.gd(o)}return t}free(){null!==(0,s.Z)(this,h)&&(l.A((0,s.Z)(this,c)),(0,a.Z)(this,h,null))}}function y(e,r){let{numberOfThreads:n=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=i.mV(n);return l.R((n=>n.find_nearest_neighbors(e.index,r,t)),d)}},9283:(e,r,n)=>{n(8782),n(6635),n(2306),n(6650)},6126:(e,r,n)=>{n(2415),n(101),n(2346),n(3889),n(8916),n(2793),n(6635),n(8782),n(6774),n(4292)},5538:(e,r,n)=>{n(6635),n(8782)},8311:(e,r,n)=>{n(7108),n(8782),n(6635),n(2306)},6807:(e,r,n)=>{n(6635),n(8782)},6078:(e,r,n)=>{n(8782),n(6635),n(6650)},3779:(e,r,n)=>{n(7108),n(8782),n(6635),n(2306),n(6650),n(8311)},1184:(e,r,n)=>{n(7108),n(6635),n(6650),n(8782)},5696:(e,r,n)=>{n(6635),n(5159),n(8782)},4812:(e,r,n)=>{n(7108),n(6635)},9206:(e,r,n)=>{n(7108),n(6635),n(6078)},2945:(e,r,n)=>{n(7108),n(6635)},5448:(e,r,n)=>{n(7108),n(6635),n(6078)},6974:(e,r,n)=>{n(2494),n(1184),n(9283),n(5159),n(6635)},6663:(e,r,n)=>{n(6635),n(8782),n(7108),n(6774)},4755:(e,r,n)=>{n(489),n(3102)},5159:(e,r,n)=>{n(7108),n(6635)},2732:(e,r,n)=>{n(8782),n(6635),n(7067)},7039:(e,r,n)=>{n(7108),n(8782),n(6635),n(6650)},9249:(e,r,n)=>{n(7108),n(8782),n(6635)},1196:(e,r,n)=>{n(6635),n(8782),n(4021)},6757:(e,r,n)=>{n(7108),n(6635),n(6807),n(9206)},4609:(e,r,n)=>{n(7108),n(6635),n(6807),n(2945)},7339:(e,r,n)=>{n(7108),n(6635),n(6807),n(5448)},6635:(e,r,n)=>{n.d(r,{RJ:()=>l,TS:()=>a,Wf:()=>i,Yj:()=>h,ab:()=>c,de:()=>o,gd:()=>u,mV:()=>f});var t=n(8782),s=n(6650);function a(e){return s.TS((0,t.Fx)(),e)}function i(e){return s.Wf((0,t.Fx)(),e)}function l(e){return s.RJ((0,t.Fx)(),e)}function o(e,r){if(e instanceof s.PQ){if(null!==r&&r!=e.constructor.className)throw new Error("expected '"+r+"', got '"+e.constructor.className+"'");return e.space===(0,t.Fx)()?null===e.owner?e.view():e:e.clone((0,t.Fx)())}let n=null;return n=null!==r?s.Zv((0,t.Fx)(),e,s.rr(r)):s.Zv((0,t.Fx)(),e),n}function f(e){return null==e?(0,t.TT)():e}function u(e){if("undefined"!=typeof e&&null!=e)return e.free()}function c(e,r){let n=new Float64Array(e),t=new Float64Array(e);for(var s=0;s<e;s++)n[s]=r[2*s],t[s]=r[2*s+1];return{x:n,y:t}}function h(e,r){if("view"===r){if(e.buffer!==(0,t.f3)())throw new Error('cannot use copy = "view" for non-Wasm TypedArrays');let r=e.constructor.name.replace("Array","WasmArray");return s.dt((0,t.Fx)(),e.length,e.byteOffset,s.rr(r))}return r?e.slice():e}},8782:(e,r,n)=>{n.d(r,{Fx:()=>u,RA:()=>c,RE:()=>o,TT:()=>l,f3:()=>f,j2:()=>i});var t=n(8308),s=n(6650);n(5941);const a={};async function i(){let{numberOfThreads:e=4,localFile:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("module"in a)return!1;let n={scran_custom_nthreads:e};return r&&(n.locateFile=e=>"file:///home/runner/work/kana/kana/node_modules/scran.js/browser/wasm.js".substring(7)+"/../wasm/"+e),a.module=await(0,t.default)(n),a.space=(0,s.z2)(a.module),!0}function l(){return a.module.scran_custom_nthreads}function o(e){if(!("module"in a))throw new Error("Wasm module needs to be initialized via 'initialize()'");var r;try{r=e(a.module)}catch(n){throw"number"==typeof n?new Error(a.module.get_error_message(n)):n}return r}function f(){if(!("module"in a))throw new Error("Wasm module needs to be initialized via 'initialize()'");return a.module.wasmMemory.buffer}function u(){return a.space}function c(){a.module.PThread.terminateAllThreads(),delete a.module}},118:(e,r,n)=>{n(6126),n(8782)},6701:(e,r,n)=>{n.d(r,{RJ:()=>o,TS:()=>i,Wf:()=>l});var t=n(2813),s=n(8383);function a(e,r,n){return(0,t.TK)(e,r,n)}function i(e,r){return a(e,r,s.yh)}function l(e,r){return a(e,r,s.do)}function o(e,r){return a(e,r,s.lt)}},8383:(e,r,n)=>{n.d(r,{do:()=>c,lt:()=>m,rr:()=>g,yh:()=>i});var t=n(4942),s=n(2813),a=n(2905);class i extends a.P{array(){return new Uint8Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(i,"className","Uint8WasmArray"),(0,t.Z)(i,"valueSize",1);class l extends a.P{array(){return new Int8Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(l,"className","Int8WasmArray"),(0,t.Z)(l,"valueSize",1);class o extends a.P{array(){return new Uint16Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(o,"className","Uint16WasmArray"),(0,t.Z)(o,"valueSize",2);class f extends a.P{array(){return new Int16Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(f,"className","Int16WasmArray"),(0,t.Z)(f,"valueSize",2);class u extends a.P{array(){return new Uint32Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(u,"className","Uint32WasmArray"),(0,t.Z)(u,"valueSize",4);class c extends a.P{array(){return new Int32Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(c,"className","Int32WasmArray"),(0,t.Z)(c,"valueSize",4);class h extends a.P{array(){return new BigUint64Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(h,"className","BigUint64WasmArray"),(0,t.Z)(h,"valueSize",8);class d extends a.P{array(){return new BigInt64Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(d,"className","BigInt64WasmArray"),(0,t.Z)(d,"valueSize",8);class y extends a.P{array(){return new Float32Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(y,"className","Float32WasmArray"),(0,t.Z)(y,"valueSize",4);class m extends a.P{array(){return new Float64Array((0,s.f3)(this.space),this.offset,this.length)}}(0,t.Z)(m,"className","Float64WasmArray"),(0,t.Z)(m,"valueSize",8);const w={Uint8WasmArray:i,Int8WasmArray:l,Uint16WasmArray:o,Int16WasmArray:f,Uint32WasmArray:u,Int32WasmArray:c,BigUint64WasmArray:h,BigInt64WasmArray:d,Float32WasmArray:y,Float64WasmArray:m};function g(e){if(!(e in w))throw new Error("unknown WasmArray class '"+e+"'");return w[e]}},6650:(e,r,n)=>{n.d(r,{PQ:()=>t.P,RJ:()=>a.RJ,TS:()=>a.TS,Wf:()=>a.Wf,Zv:()=>i.Zv,do:()=>s.do,dt:()=>l.dt,rr:()=>s.rr,z2:()=>o.z2});var t=n(2905),s=n(8383),a=n(6701),i=n(4163),l=n(736),o=(n(6021),n(4342),n(2813))},4342:(e,r,n)=>{n(6701)}}]);
//# sourceMappingURL=525.012a6612.chunk.js.map