!function(){"use strict";var n={1933:function(n,t,r){var e,i=r(5831),a=r(7891),o=r(498),u=r(3143),c={},f=!1,s={},d={},l=!1;function h(n){var t=o.Z(n),r=c.init.clone();try{for(c.total=r.totalEpochs();r.currentEpoch()<c.total;)if(i.q7(r,{runTime:t}),n){var e=r.extractCoordinates();u.b({type:"umap_iter",x:e.x,y:e.y,iteration:r.currentEpoch()},[e.x.buffer,e.y.buffer])}c.final=r.extractCoordinates()}finally{r.free()}}u.j((function(n){var t=n.data.id;l?u.b({id:t,type:"error",error:"UMAP worker is dead and cannot process messages"}):"INIT"==n.data.cmd?(e=i.j2(n.data.scranOptions)).then((function(n){u.b({id:t,type:"init_worker",data:{status:"SUCCESS"}})})).catch((function(n){u.b({id:t,type:"error",error:n})})):"RUN"==n.data.cmd?e.then((function(r){var e;"neighbors"in n.data?(a.Yl(c.neighbors),c.neighbors=o.q(n.data.neighbors),e=!0):e=!1;var l={min_dist:n.data.params.min_dist,num_epochs:n.data.params.num_epochs};e||a.xi(l,s)?(a.Yl(c.init),c.init=i.fD(c.neighbors,{epochs:l.num_epochs,minDist:l.min_dist}),s=l,f=!0):f=!1;var p={};(f||a.xi(p,d))&&(h(n.data.params.animate),d=p),u.b({id:t,type:"umap_run",data:{status:"SUCCESS"}})})).catch((function(n){u.b({id:t,type:"error",error:n})})):"RERUN"==n.data.cmd?e.then((function(n){h(!0),u.b({id:t,type:"umap_rerun",data:{status:"SUCCESS"}})})).catch((function(n){u.b({id:t,type:"error",error:n})})):"FETCH"==n.data.cmd?e.then((function(n){var r={x:c.final.x.slice(),y:c.final.y.slice(),iterations:c.total},e=[r.x.buffer,r.y.buffer];u.b({id:t,type:"umap_fetch",data:r},e)})).catch((function(n){u.b({id:t,type:"error",error:n})})):"KILL"==n.data.cmd?(l=!0,e.then((function(n){i.RA(),u.b({id:t,type:"umap_killed",data:null})})).catch((function(n){u.b({id:t,type:"error",error:n})}))):u.b({id:t,type:"error",error:"unknown message type '"+JSON.stringify(n.data)+"'"})}))},5831:function(n,t,r){r.d(t,{RA:function(){return e.RA},RJ:function(){return i.RJ},Wf:function(){return i.Wf},fD:function(){return o.fD},gd:function(){return i.gd},j2:function(){return e.j2},q7:function(){return o.q7},qv:function(){return a.qv}});var e=r(8782),i=r(6635),a=(r(8311),r(6663),r(489),r(6126),r(118),r(5644),r(4292),r(5470),r(1196),r(5219),r(5448),r(9206),r(2945),r(7339),r(6757),r(4609),r(8420),r(845),r(9283),r(6974),r(1184),r(4812),r(6199),r(5159),r(7067)),o=(r(9273),r(4181),r(5319));r(2494),r(5696),r(2732),r(9249),r(3779),r(7039),r(5538),r(7644),r(6961),r(2306),r(4021),r(4755)},4181:function(n,t,r){r(6635),r(8782),r(7108),r(7067)},5319:function(n,t,r){r.d(t,{fD:function(){return b},q7:function(){return m}});var e=r(5671),i=r(3144),a=r(2346),o=r(8916),u=r(2793),c=r(6635),f=r(8782),s=r(7108),d=r(7067),l=new WeakMap,h=new WeakMap,p=new WeakMap,v=function(){function n(t,r,i){(0,e.Z)(this,n),(0,a.Z)(this,l,{writable:!0,value:void 0}),(0,a.Z)(this,h,{writable:!0,value:void 0}),(0,a.Z)(this,p,{writable:!0,value:void 0}),(0,u.Z)(this,l,t),(0,u.Z)(this,h,r),(0,u.Z)(this,p,i)}return(0,i.Z)(n,[{key:"status",get:function(){return(0,o.Z)(this,h)}},{key:"coordinates",get:function(){return(0,o.Z)(this,p)}},{key:"clone",value:function(){var t=this;return s.R((function(n){return(0,o.Z)(t,h).deepcopy()}),n,(0,o.Z)(this,p).clone())}},{key:"numberOfCells",value:function(){return(0,o.Z)(this,h).num_obs()}},{key:"currentEpoch",value:function(){return(0,o.Z)(this,h).epoch()}},{key:"totalEpochs",value:function(){return(0,o.Z)(this,h).num_epochs()}},{key:"extractCoordinates",value:function(){return c.ab(this.numberOfCells(),(0,o.Z)(this,p).array())}},{key:"free",value:function(){null!==(0,o.Z)(this,h)&&(s.A((0,o.Z)(this,l)),(0,u.Z)(this,h,null)),null!==(0,o.Z)(this,p)&&((0,o.Z)(this,p).free(),(0,u.Z)(this,p,null))}}]),n}();function b(n){var t,r,e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.neighbors,o=void 0===a?15:a,u=i.epochs,f=void 0===u?500:u,l=i.minDist,h=void 0===l?.01:l,p=i.numberOfThreads,b=void 0===p?null:p,m=c.mV(b);try{var y;n instanceof d.ZF?(t=(0,d.wf)(n,o,{numberOfThreads:m}),y=t):y=n,r=c.RJ(2*y.numberOfCells()),e=s.R((function(n){return n.initialize_umap(y.results,f,h,r.offset,m)}),v,r)}catch(k){throw c.gd(e),c.gd(r),k}finally{c.gd(t)}return e}function m(n){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).runTime,r=void 0===t?null:t;null===r&&(r=-1),f.RE((function(t){return t.run_umap(n.status,r,n.coordinates.offset)}))}}},t={};function r(e){var i=t[e];if(void 0!==i)return i.exports;var a=t[e]={exports:{}};return n[e](a,a.exports,r),a.exports}r.m=n,r.x=function(){var n=r.O(void 0,[660,525],(function(){return r(1933)}));return n=r.O(n)},function(){var n=[];r.O=function(t,e,i,a){if(!e){var o=1/0;for(s=0;s<n.length;s++){e=n[s][0],i=n[s][1],a=n[s][2];for(var u=!0,c=0;c<e.length;c++)(!1&a||o>=a)&&Object.keys(r.O).every((function(n){return r.O[n](e[c])}))?e.splice(c--,1):(u=!1,a<o&&(o=a));if(u){n.splice(s--,1);var f=i();void 0!==f&&(t=f)}}return t}a=a||0;for(var s=n.length;s>0&&n[s-1][2]>a;s--)n[s]=n[s-1];n[s]=[e,i,a]}}(),r.d=function(n,t){for(var e in t)r.o(t,e)&&!r.o(n,e)&&Object.defineProperty(n,e,{enumerable:!0,get:t[e]})},r.f={},r.e=function(n){return Promise.all(Object.keys(r.f).reduce((function(t,e){return r.f[e](n,t),t}),[]))},r.u=function(n){return"static/js/"+n+"."+{525:"ef3096e9",660:"35c3e400",909:"19a9898f"}[n]+".chunk.js"},r.miniCssF=function(n){},r.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},r.p="/kana/",function(){r.b=self.location+"/../../../";var n={933:1};r.f.i=function(t,e){n[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkkana=self.webpackChunkkana||[],e=t.push.bind(t);t.push=function(t){var i=t[0],a=t[1],o=t[2];for(var u in a)r.o(a,u)&&(r.m[u]=a[u]);for(o&&o(r);i.length;)n[i.pop()]=1;e(t)}}(),function(){var n=r.x;r.x=function(){return Promise.all([r.e(660),r.e(525)]).then(n)}}();r.x()}();
//# sourceMappingURL=933.6cd42160.chunk.js.map