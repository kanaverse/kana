"use strict";(self.webpackChunkkana=self.webpackChunkkana||[]).push([[115],{34:(e,r,n)=>{n(703)},209:(e,r,n)=>{n(9790),n(5149),n(6562),n(8458),n(4558),n(7031),n(6524),n(5660),n(6077)},219:(e,r,n)=>{n(8301)},693:(e,r,n)=>{n(2322),n(7031)},703:(e,r,n)=>{n(6524)},886:(e,r,n)=>{n(2322),n(7031),n(8229),n(6617)},988:(e,r,n)=>{n(2322),n(7031),n(8229),n(3261)},1101:(e,r,n)=>{n(7031),n(693)},1276:(e,r,n)=>{n.d(r,{PG:()=>i,xr:()=>s});var t=n(7990);function s(e){t.t9(e)}function a(e,r,n,t){if(!n&&(e instanceof ArrayBuffer||ArrayBuffer.isView(e)))throw new Error("parameters cannot contain ArrayBuffers or their views");if(!t&&(r instanceof ArrayBuffer||ArrayBuffer.isView(r)))throw new Error("parameters cannot contain ArrayBuffers or their views")}function i(e,r){if(typeof e!=typeof r)return a(e,r,!1,!1),!0;if("object"!=typeof e)return e!=r;let n=null===e,t=null===r;if(n!==t)return a(e,r,n,t),!0;if(n)return!1;let s=e instanceof Array,l=r instanceof Array;if(s!=l)return a(e,r,s,l),!0;if(s){if(e.length!=r.length)return!0;for(var o=0;o<e.length;o++)if(i(e[o],r[o]))return!0;return!1}a(e,r,!1,!1);let u=Object.keys(e),f=Object.keys(r);if(u.length!=f.length)return!0;u.sort(),f.sort();for(o=0;o<u.length;o++)if(u[o]!=f[o])return!0;for(const a of u)if(i(e[a],r[a]))return!0;return!1}},1334:(e,r,n)=>{n(2322),n(7031),n(9165),n(6524)},1602:(e,r,n)=>{n(6524),n(7031),n(4718)},1820:(e,r,n)=>{n.d(r,{f:()=>a,n:()=>s});var t=n(7990);function s(e){return e?75:1e6}function a(e){var r=null,n=null,s=null,a=null;try{var i=e.num_obs,l=e.size;(n=t.kl(i)).set(e.runs),(s=t.kl(l)).set(e.indices),(a=t.k3(l)).set(e.distances),r=t.ny.unserialize(n,s,a)}finally{null!==n&&n.free(),null!==s&&s.free(),null!==a&&a.free()}return r}},1952:(e,r,n)=>{n.d(r,{Fl:()=>w,Os:()=>c,WI:()=>A,_A:()=>i});var t=n(4467),s=n(4169),a=n(536);class i extends a.K{array(){return new Uint8Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(i,"className","Uint8WasmArray"),(0,t.A)(i,"valueSize",1);class l extends a.K{array(){return new Int8Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(l,"className","Int8WasmArray"),(0,t.A)(l,"valueSize",1);class o extends a.K{array(){return new Uint16Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(o,"className","Uint16WasmArray"),(0,t.A)(o,"valueSize",2);class u extends a.K{array(){return new Int16Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(u,"className","Int16WasmArray"),(0,t.A)(u,"valueSize",2);class f extends a.K{array(){return new Uint32Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(f,"className","Uint32WasmArray"),(0,t.A)(f,"valueSize",4);class c extends a.K{array(){return new Int32Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(c,"className","Int32WasmArray"),(0,t.A)(c,"valueSize",4);class h extends a.K{array(){return new BigUint64Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(h,"className","BigUint64WasmArray"),(0,t.A)(h,"valueSize",8);class d extends a.K{array(){return new BigInt64Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(d,"className","BigInt64WasmArray"),(0,t.A)(d,"valueSize",8);class y extends a.K{array(){return new Float32Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(y,"className","Float32WasmArray"),(0,t.A)(y,"valueSize",4);class A extends a.K{array(){return new Float64Array((0,s.r)(this.space),this.offset,this.length)}}(0,t.A)(A,"className","Float64WasmArray"),(0,t.A)(A,"valueSize",8);const m={Uint8WasmArray:i,Int8WasmArray:l,Uint16WasmArray:o,Int16WasmArray:u,Uint32WasmArray:f,Int32WasmArray:c,BigUint64WasmArray:h,BigInt64WasmArray:d,Float32WasmArray:y,Float64WasmArray:A};function w(e){if(!(e in m))throw new Error("unknown WasmArray class '"+e+"'");return m[e]}},2695:(e,r,n)=>{n(6869),n(1334),n(4833),n(4047),n(7031)},3128:(e,r,n)=>{n(7031),n(2322),n(9165)},3261:(e,r,n)=>{n(2322),n(7031)},3607:(e,r,n)=>{n(2322),n(6524),n(7031),n(3128),n(9165),n(5243)},3911:(e,r,n)=>{n(7031),n(9165),n(6077)},4011:(e,r,n)=>{n(7031),n(2322),n(4718)},4047:(e,r,n)=>{n(2322),n(7031)},4718:(e,r,n)=>{n.d(r,{jw:()=>y,ny:()=>d,pb:()=>f});var t=n(5149),s=n(8458),a=n(4558),i=n(7031),l=n(2322),o=(n(4047),new WeakMap),u=new WeakMap;class f{constructor(e,r){(0,t.A)(this,o,void 0),(0,t.A)(this,u,void 0),(0,a.A)(o,this,e),(0,a.A)(u,this,r)}numberOfCells(){return(0,s.A)(u,this).num_obs()}numberOfDims(){return(0,s.A)(u,this).num_dim()}free(){null!==(0,s.A)(u,this)&&(l._((0,s.A)(o,this)),(0,a.A)(u,this,null))}get index(){return(0,s.A)(u,this)}}var c=new WeakMap,h=new WeakMap;class d{constructor(e,r){(0,t.A)(this,c,void 0),(0,t.A)(this,h,void 0),(0,a.A)(c,this,e),(0,a.A)(h,this,r)}size(){return(0,s.A)(h,this).size()}numberOfCells(){return(0,s.A)(h,this).num_obs()}get results(){return(0,s.A)(h,this)}serialize(){let{runs:e=null,indices:r=null,distances:n=null}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t,a,l,o,u=(null===e)+(null===r)+(null===n);if(3!=u&&0!=u)throw new Error("either all or none of 'runs', 'indices' and 'distances' can be 'null'");if(3===u)try{a=i.kl(this.numberOfCells());let e=this.size();l=i.kl(e),o=i.k3(e),(0,s.A)(h,this).serialize(a.offset,l.offset,o.offset),t={runs:a.slice(),indices:l.slice(),distances:o.slice()}}finally{i.t9(a),i.t9(l),i.t9(o)}else(0,s.A)(h,this).serialize(e.offset,r.offset,n.offset),t={runs:e.array(),indices:r.array(),distances:n.array()};return t}static unserialize(e,r,n){var t,s,a,o;try{s=i.c(e,"Int32WasmArray"),a=i.c(r,"Int32WasmArray"),o=i.c(n,"Float64WasmArray"),t=l.T(r=>new r.NeighborResults(e.length,s.offset,a.offset,o.offset),d)}catch(u){throw i.t9(t),u}finally{i.t9(s),i.t9(a),i.t9(o)}return t}free(){null!==(0,s.A)(h,this)&&(l._((0,s.A)(c,this)),(0,a.A)(h,this,null))}}function y(e,r){let{numberOfThreads:n=null}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},t=i.J2(n);return l.T(n=>n.find_nearest_neighbors(e.index,r,t),d)}},4833:(e,r,n)=>{n(6524),n(7031),n(3128),n(9165)},5090:(e,r,n)=>{n(7031),n(6524),n(7778)},5243:(e,r,n)=>{n(2322),n(6524),n(7031),n(3128)},5399:(e,r,n)=>{n(34)},5503:(e,r,n)=>{n(7031),n(4047),n(6524)},5707:(e,r,n)=>{n(6524),n(7031),n(9165)},5784:(e,r,n)=>{n(7031),n(3128),n(2322)},6077:(e,r,n)=>{n.d(r,{K$:()=>a});var t=n(9165),s=n(7031);function a(e){let r,n,{asWasmArray:a=!0,buffer:l=null,levels:o=null,action:u="error",placeholder:f=-1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("warn"==u){let e=!1;n=()=>{e||(console.warn("replacing invalid values with the placeholder index '"+String(f)+"'"),e=!0)}}else if("none"==u)n=()=>{};else{if("error"!=u)throw new Error("unknown action '"+u+"' for handling invalid entries");n=()=>{throw new Error("detected invalid value (e.g., null, NaN) in 'x'")}}try{if(null==l)r=a?s.kl(e.length):new Int32Array(e.length),l=r;else{if(l.length!==e.length)throw new Error("'buffer' should have length equal to that of 'x'");a=l instanceof t.Os}let u=a?l.array():l,d=new Map;if(null==o){o=[];for(var c=0;c<e.length;c++){let r=e[c];if(null==r||"number"==typeof r&&!Number.isFinite(r)){n(),u[c]=f;continue}let t=d.get(r);if("undefined"==typeof t){let e=o.length;d.set(r,e),o.push(r),u[c]=e}else u[c]=t}if(o.every(e=>"string"==typeof e)){let e=o.slice();o.sort(),i({ids:l,levels:e},o)}else if(o.every(e=>"number"==typeof e)){let e=o.slice();o.sort((e,r)=>e-r),i({ids:l,levels:e},o)}}else{for(var h=0;h<o.length;h++)d.set(o[h],h);for(c=0;c<e.length;c++){let r=e[c],t=d.get(r);"undefined"==typeof t?(n(),u[c]=f):u[c]=t}}}catch(d){throw r instanceof t.Kr&&s.t9(r),d}return{ids:l,levels:o}}function i(e,r){let n,{action:s="error",placeholder:a=-1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Map;for(var l=0;l<r.length;l++)i.set(r[l],l);if("warn"==s){let e=!1;n=()=>{e||(console.warn("replacing missing levels with the placeholder index '"+String(a)+"'"),e=!0)}}else if("none"==s)n=()=>{};else{if("error"!=s)throw new Error("unknown action '"+s+"' for handling missing levels");n=()=>{throw new Error("detected level in 'x.levels' that is missing from 'newLevels'")}}let o=e.levels,u=new Array(o.length);for(l=0;l<o.length;l++){let e=i.get(o[l]);"undefined"==typeof e?(n(),u[l]=a):u[l]=e}e.levels=r;let f=e.ids;f instanceof t.Kr&&(f=f.array()),f.forEach((e,r)=>{e!==a&&(f[r]=u[e])})}},6194:(e,r,n)=>{function t(e){self.onmessage=e}function s(e,r){self.postMessage(e,r)}n.d(r,{_:()=>s,r:()=>t})},6218:(e,r,n)=>{n(2322),n(7031),n(8229),n(6273)},6273:(e,r,n)=>{n(2322),n(7031),n(5707)},6497:(e,r,n)=>{n(2322),n(7031)},6524:(e,r,n)=>{n.d(r,{MH:()=>c,T1:()=>o,_d:()=>l,n_:()=>i,r:()=>u,wZ:()=>f});var t=n(8120),s=n(9165);n(703);const a={};async function i(){let{numberOfThreads:e=4,localFile:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("module"in a)return!1;let n={scran_custom_nthreads:e};return r&&(n.locateFile=e=>"file:///home/runner/work/kana/kana/node_modules/scran.js/browser/wasm.js".substring(7)+"/../wasm/"+e),a.module=await(0,t.default)(n),a.space=(0,s.kz)(a.module),!0}function l(){return a.module.scran_custom_nthreads}function o(e){if(!("module"in a))throw new Error("Wasm module needs to be initialized via 'initialize()'");var r;try{r=e(a.module)}catch(n){throw"number"==typeof n?new Error(a.module.get_error_message(n)):n}return r}function u(){if(!("module"in a))throw new Error("Wasm module needs to be initialized via 'initialize()'");return a.module.wasmMemory.buffer}function f(){return a.space}function c(){a.module.PThread.terminateAllThreads(),delete a.module}},6617:(e,r,n)=>{n(2322),n(7031),n(5707)},6869:(e,r,n)=>{n(7031),n(2322),n(4047)},7031:(e,r,n)=>{n.d(r,{J2:()=>u,VM:()=>c,c:()=>o,eg:()=>a,k3:()=>l,kl:()=>i,t9:()=>f,xf:()=>h});var t=n(6524),s=n(9165);function a(e){return s.eg((0,t.wZ)(),e)}function i(e){return s.kl((0,t.wZ)(),e)}function l(e){return s.k3((0,t.wZ)(),e)}function o(e,r){if(e instanceof s.Kr){if(null!==r&&r!=e.constructor.className)throw new Error("expected '"+r+"', got '"+e.constructor.className+"'");return e.space===(0,t.wZ)()?null===e.owner?e.view():e:e.clone((0,t.wZ)())}let n=null;return n=null!==r?s.US((0,t.wZ)(),e,s.Fl(r)):s.US((0,t.wZ)(),e),n}function u(e){return null==e?(0,t._d)():e}function f(e){if("undefined"!=typeof e&&null!=e)return e.free()}function c(e,r){let n=new Float64Array(e),t=new Float64Array(e);for(var s=0;s<e;s++)n[s]=r[2*s],t[s]=r[2*s+1];return{x:n,y:t}}function h(e,r){if("view"===r){if(e.buffer!==(0,t.r)())throw new Error('cannot use copy = "view" for non-Wasm TypedArrays');let r=e.constructor.name.replace("Array","WasmArray");return s.Nf((0,t.wZ)(),e.length,e.byteOffset,s.Fl(r))}return r?e.slice():e}},7241:(e,r,n)=>{n(7031),n(6524),n(2322),n(5660)},7579:(e,r,n)=>{n(7031),n(6524)},7778:(e,r,n)=>{n(7031)},8229:(e,r,n)=>{n(7031),n(6524)},8301:(e,r,n)=>{n.d(r,{eg:()=>i,k3:()=>o,kl:()=>l});var t=n(4169),s=n(1952);function a(e,r,n){return(0,t.CN)(e,r,n)}function i(e,r){return a(e,r,s._A)}function l(e,r){return a(e,r,s.Os)}function o(e,r){return a(e,r,s.WI)}},8926:(e,r,n)=>{n(2322),n(6524),n(7031),n(9165)},8960:(e,r,n)=>{n(209),n(6524)},9165:(e,r,n)=>{n.d(r,{Fl:()=>s.Fl,Kr:()=>t.K,Nf:()=>l.Nf,Os:()=>s.Os,US:()=>i.US,eg:()=>a.eg,k3:()=>a.k3,kl:()=>a.kl,kz:()=>o.kz});var t=n(536),s=n(1952),a=n(8301),i=n(566),l=n(1964),o=(n(2114),n(219),n(4169))},9723:(e,r,n)=>{n(2322),n(7031),n(3128)},9841:(e,r,n)=>{n(2322),n(6524),n(7031)},9846:(e,r,n)=>{n(34),n(5399)}}]);
//# sourceMappingURL=115.16c3d22d.chunk.js.map