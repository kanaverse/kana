(()=>{"use strict";var e={5814:(e,t,r)=>{var i,a=r(7990),n=r(1276),s=r(1820),o=r(6194),l={},d=!1,f={},u={},c=!1;function p(e,t){l.init.numberOfCells();var r=s.n(e),i=l.init.clone();try{for(;i.iterations()<t;)if(a.Us(i,{runTime:r,maxIterations:t}),e){let e=i.extractCoordinates();o._({type:"tsne_iter",x:e.x,y:e.y,iteration:i.iterations()},[e.x.buffer,e.y.buffer])}l.final=i.extractCoordinates()}finally{i.free()}}o.r((e=>{var t=e.data.id;c?o._({id:t,type:"error",error:"t-SNE worker is dead and cannot process messages"}):"INIT"==e.data.cmd?(i=a.n_(e.data.scranOptions)).then((e=>{o._({id:t,type:"init_worker",data:{status:"SUCCESS"}})})).catch((e=>{o._({id:t,type:"error",error:e})})):"RUN"==e.data.cmd?i.then((r=>{var i;"neighbors"in e.data?(n.xr(l.neighbors),l.neighbors=s.f(e.data.neighbors),i=!0):i=!1;var c={perplexity:e.data.params.perplexity};i||n.PG(c,f)?(n.xr(l.init),l.init=a.LY(l.neighbors,{perplexity:c.perplexity}),f=c,d=!0):d=!1;var h={iterations:e.data.params.iterations};(d||n.PG(h,u))&&(p(e.data.params.animate,h.iterations),u=h),o._({id:t,type:"tsne_run",data:{status:"SUCCESS"}})})).catch((e=>{o._({id:t,type:"error",error:e})})):"RERUN"==e.data.cmd?i.then((e=>{p(!0,u.iterations),o._({id:t,type:"tsne_rerun",data:{status:"SUCCESS"}})})).catch((e=>{o._({id:t,type:"error",error:e})})):"FETCH"==e.data.cmd?i.then((e=>{var r={x:l.final.x.slice(),y:l.final.y.slice(),iterations:u.iterations},i=[r.x.buffer,r.y.buffer];o._({id:t,type:"tsne_fetch",data:r},i)})).catch((e=>{o._({id:t,type:"error",error:e})})):"KILL"==e.data.cmd?(c=!0,i.then((e=>{a.MH(),o._({id:t,type:"tsne_killed",data:null})})).catch((e=>{o._({id:t,type:"error",error:e})}))):o._({id:t,type:"error",error:"unknown message type '"+JSON.stringify(e.data)+"'"})}))},7990:(e,t,r)=>{r.d(t,{LY:()=>s.LY,MH:()=>i.MH,Us:()=>s.Us,k3:()=>a.k3,kl:()=>a.kl,n_:()=>i.n_,ny:()=>n.ny,t9:()=>a.t9});var i=r(6524),a=r(7031),n=(r(5243),r(7241),r(34),r(209),r(8960),r(3911),r(6077),r(5784),r(5090),r(6876),r(6273),r(6617),r(3261),r(6218),r(886),r(988),r(6497),r(2947),r(4833),r(2695),r(1334),r(693),r(1101),r(4047),r(4718)),s=(r(4011),r(7571));r(8652),r(6869),r(5503),r(1602),r(9841),r(3607),r(8926),r(7579),r(7379),r(9723),r(3128),r(7778),r(9846)},7571:(e,t,r)=>{r.d(t,{LY:()=>y,Us:()=>m});var i=r(5149),a=r(8458),n=r(4558),s=r(7031),o=r(6524),l=r(2322),d=r(4718),f=new WeakMap,u=new WeakMap,c=new WeakMap;class p{constructor(e,t,r){(0,i.A)(this,f,void 0),(0,i.A)(this,u,void 0),(0,i.A)(this,c,void 0),(0,n.A)(f,this,e),(0,n.A)(u,this,t),(0,n.A)(c,this,r)}get status(){return(0,a.A)(u,this)}get coordinates(){return(0,a.A)(c,this)}clone(){return l.T((e=>(0,a.A)(u,this).deepcopy()),p,(0,a.A)(c,this).clone())}numberOfCells(){return(0,a.A)(u,this).num_obs()}iterations(){return(0,a.A)(u,this).iterations()}extractCoordinates(){return s.VM(this.numberOfCells(),(0,a.A)(c,this).array())}free(){null!==(0,a.A)(u,this)&&(l._((0,a.A)(f,this)),(0,n.A)(u,this,null)),null!==(0,a.A)(c,this)&&((0,a.A)(c,this).free(),(0,n.A)(c,this,null))}}function h(e){return o.T1((t=>t.perplexity_to_k(e)))}function y(e){let{perplexity:t=30,checkMismatch:r=!0,numberOfThreads:i=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var a,n,f;let u=s.J2(i);try{let i;if(e instanceof d.pb){let r=h(t);a=(0,d.jw)(e,r,{numberOfThreads:u}),i=a}else{if(r){if(h(t)*e.numberOfCells()!=e.size())throw new Error("number of neighbors in 'x' does not match '3 * perplexity'")}i=e}n=s.k3(2*i.numberOfCells()),o.T1((e=>e.randomize_tsne_start(i.numberOfCells(),n.offset,42))),f=l.T((e=>e.initialize_tsne(i.results,t,u)),p,n)}catch(c){throw s.t9(f),s.t9(n),c}finally{s.t9(a)}return f}function m(e){let{maxIterations:t=1e3,runTime:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===r&&(r=-1),o.T1((i=>i.run_tsne(e.status,r,t,e.coordinates.offset)))}},8652:(e,t,r)=>{r(7031),r(6524),r(2322),r(4718)}},t={};function r(i){var a=t[i];if(void 0!==a)return a.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,r),n.exports}r.m=e,r.x=()=>{var e=r.O(void 0,[764,115],(()=>r(5814)));return e=r.O(e)},(()=>{var e=[];r.O=(t,i,a,n)=>{if(!i){var s=1/0;for(f=0;f<e.length;f++){i=e[f][0],a=e[f][1],n=e[f][2];for(var o=!0,l=0;l<i.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((e=>r.O[e](i[l])))?i.splice(l--,1):(o=!1,n<s&&(s=n));if(o){e.splice(f--,1);var d=a();void 0!==d&&(t=d)}}return t}n=n||0;for(var f=e.length;f>0&&e[f-1][2]>n;f--)e[f]=e[f-1];e[f]=[i,a,n]}})(),r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,i)=>(r.f[i](e,t),t)),[])),r.u=e=>"static/js/"+e+"."+{115:"c0812ed2",764:"9d24566f",814:"f3dd3a53"}[e]+".chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.p="/kana/",(()=>{r.b=self.location+"/../../../";var e={433:1};r.f.i=(t,i)=>{e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkkana=self.webpackChunkkana||[],i=t.push.bind(t);t.push=t=>{var a=t[0],n=t[1],s=t[2];for(var o in n)r.o(n,o)&&(r.m[o]=n[o]);for(s&&s(r);a.length;)e[a.pop()]=1;i(t)}})(),(()=>{var e=r.x;r.x=()=>Promise.all([r.e(764),r.e(115)]).then(e)})();r.x()})();
//# sourceMappingURL=433.b1b48770.chunk.js.map