!function(){"use strict";var t={1484:function(t,n,r){var e,i=r(5831),a=r(7891),o=r(498),u=r(3143),f={},s=!1,c={},l={},d=!1;function h(t,n){f.init.numberOfCells();var r=o.Z(t),e=f.init.clone();try{for(;e.iterations()<n;)if(i.DG(e,{runTime:r,maxIterations:n}),t){var a=e.extractCoordinates();u.b({type:"tsne_iter",x:a.x,y:a.y,iteration:e.iterations()},[a.x.buffer,a.y.buffer])}f.final=e.extractCoordinates()}finally{e.free()}}u.j((function(t){var n=t.data.id;d?u.b({id:n,type:"error",error:"t-SNE worker is dead and cannot process messages"}):"INIT"==t.data.cmd?(e=i.j2(t.data.scranOptions)).then((function(t){u.b({id:n,type:"init_worker",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"RUN"==t.data.cmd?e.then((function(r){var e;"neighbors"in t.data?(a.Yl(f.neighbors),f.neighbors=o.q(t.data.neighbors),e=!0):e=!1;var d={perplexity:t.data.params.perplexity};e||a.xi(d,c)?(a.Yl(f.init),f.init=i.xv(f.neighbors,{perplexity:d.perplexity}),c=d,s=!0):s=!1;var p={iterations:t.data.params.iterations};(s||a.xi(p,l))&&(h(t.data.params.animate,p.iterations),l=p),u.b({id:n,type:"tsne_run",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"RERUN"==t.data.cmd?e.then((function(t){h(!0,l.iterations),u.b({id:n,type:"tsne_rerun",data:{status:"SUCCESS"}})})).catch((function(t){u.b({id:n,type:"error",error:t})})):"FETCH"==t.data.cmd?e.then((function(t){var r={x:f.final.x.slice(),y:f.final.y.slice(),iterations:l.iterations},e=[r.x.buffer,r.y.buffer];u.b({id:n,type:"tsne_fetch",data:r},e)})).catch((function(t){u.b({id:n,type:"error",error:t})})):"KILL"==t.data.cmd?(d=!0,e.then((function(t){i.RA(),u.b({id:n,type:"tsne_killed",data:null})})).catch((function(t){u.b({id:n,type:"error",error:t})}))):u.b({id:n,type:"error",error:"unknown message type '"+JSON.stringify(t.data)+"'"})}))},5831:function(t,n,r){r.d(n,{DG:function(){return o.DG},RA:function(){return e.RA},RJ:function(){return i.RJ},Wf:function(){return i.Wf},gd:function(){return i.gd},j2:function(){return e.j2},qv:function(){return a.qv},xv:function(){return o.xv}});var e=r(8782),i=r(6635),a=(r(8311),r(6663),r(489),r(6126),r(118),r(5644),r(4292),r(5470),r(1196),r(5219),r(5448),r(9206),r(2945),r(7339),r(6757),r(4609),r(8420),r(845),r(9283),r(6974),r(1184),r(4812),r(6199),r(5159),r(7067)),o=(r(9273),r(4181));r(5319),r(2494),r(5696),r(2732),r(9249),r(3779),r(7039),r(5538),r(7644),r(6961),r(2306),r(4021),r(4755)},4181:function(t,n,r){r.d(n,{DG:function(){return m},xv:function(){return y}});var e=r(5671),i=r(3144),a=r(2346),o=r(8916),u=r(2793),f=r(6635),s=r(8782),c=r(7108),l=r(7067),d=new WeakMap,h=new WeakMap,p=new WeakMap,v=function(){function t(n,r,i){(0,e.Z)(this,t),(0,a.Z)(this,d,{writable:!0,value:void 0}),(0,a.Z)(this,h,{writable:!0,value:void 0}),(0,a.Z)(this,p,{writable:!0,value:void 0}),(0,u.Z)(this,d,n),(0,u.Z)(this,h,r),(0,u.Z)(this,p,i)}return(0,i.Z)(t,[{key:"status",get:function(){return(0,o.Z)(this,h)}},{key:"coordinates",get:function(){return(0,o.Z)(this,p)}},{key:"clone",value:function(){var n=this;return c.R((function(t){return(0,o.Z)(n,h).deepcopy()}),t,(0,o.Z)(this,p).clone())}},{key:"numberOfCells",value:function(){return(0,o.Z)(this,h).num_obs()}},{key:"iterations",value:function(){return(0,o.Z)(this,h).iterations()}},{key:"extractCoordinates",value:function(){return f.ab(this.numberOfCells(),(0,o.Z)(this,p).array())}},{key:"free",value:function(){null!==(0,o.Z)(this,h)&&(c.A((0,o.Z)(this,d)),(0,u.Z)(this,h,null)),null!==(0,o.Z)(this,p)&&((0,o.Z)(this,p).free(),(0,u.Z)(this,p,null))}}]),t}();function b(t){return s.RE((function(n){return n.perplexity_to_k(t)}))}function y(t){var n,r,e,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.perplexity,o=void 0===a?30:a,u=i.checkMismatch,d=void 0===u||u,h=i.numberOfThreads,p=void 0===h?null:h,y=f.mV(p);try{var m;if(t instanceof l.ZF){var x=b(o);n=(0,l.wf)(t,x,{numberOfThreads:y}),m=n}else{if(d)if(b(o)*t.numberOfCells()!=t.size())throw new Error("number of neighbors in 'x' does not match '3 * perplexity'");m=t}r=f.RJ(2*m.numberOfCells()),s.RE((function(t){return t.randomize_tsne_start(m.numberOfCells(),r.offset,42)})),e=c.R((function(t){return t.initialize_tsne(m.results,o,y)}),v,r)}catch(k){throw f.gd(e),f.gd(r),k}finally{f.gd(n)}return e}function m(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.maxIterations,e=void 0===r?1e3:r,i=n.runTime,a=void 0===i?null:i;null===a&&(a=-1),s.RE((function(n){return n.run_tsne(t.status,a,e,t.coordinates.offset)}))}},5319:function(t,n,r){r(6635),r(8782),r(7108),r(7067)}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,r.x=function(){var t=r.O(void 0,[660,525],(function(){return r(1484)}));return t=r.O(t)},function(){var t=[];r.O=function(n,e,i,a){if(!e){var o=1/0;for(c=0;c<t.length;c++){e=t[c][0],i=t[c][1],a=t[c][2];for(var u=!0,f=0;f<e.length;f++)(!1&a||o>=a)&&Object.keys(r.O).every((function(t){return r.O[t](e[f])}))?e.splice(f--,1):(u=!1,a<o&&(o=a));if(u){t.splice(c--,1);var s=i();void 0!==s&&(n=s)}}return n}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[e,i,a]}}(),r.d=function(t,n){for(var e in n)r.o(n,e)&&!r.o(t,e)&&Object.defineProperty(t,e,{enumerable:!0,get:n[e]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(n,e){return r.f[e](t,n),n}),[]))},r.u=function(t){return"static/js/"+t+"."+{525:"ef3096e9",660:"d55d8ac4",909:"ae8cc874"}[t]+".chunk.js"},r.miniCssF=function(t){},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="/kana/",function(){r.b=self.location+"/../../../";var t={484:1};r.f.i=function(n,e){t[n]||importScripts(r.p+r.u(n))};var n=self.webpackChunkkana=self.webpackChunkkana||[],e=n.push.bind(n);n.push=function(n){var i=n[0],a=n[1],o=n[2];for(var u in a)r.o(a,u)&&(r.m[u]=a[u]);for(o&&o(r);i.length;)t[i.pop()]=1;e(n)}}(),function(){var t=r.x;r.x=function(){return Promise.all([r.e(660),r.e(525)]).then(t)}}();r.x()}();
//# sourceMappingURL=484.6c0746bc.chunk.js.map