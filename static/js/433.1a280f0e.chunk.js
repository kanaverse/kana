(()=>{"use strict";var e={5814:(e,t,r)=>{var a,i=r(7990),n=r(1276),s=r(1820),o=r(6194),l={},d=!1,u={},c={},f=!1;function p(e,t){l.init.numberOfCells();var r=s.n(e),a=l.init.clone();try{for(;a.iterations()<t;)if(i.Us(a,{runTime:r,maxIterations:t}),e){let e=a.extractCoordinates();o._({type:"tsne_iter",x:e.x,y:e.y,iteration:a.iterations()},[e.x.buffer,e.y.buffer])}l.final=a.extractCoordinates()}finally{a.free()}}o.r((e=>{var t=e.data.id;f?o._({id:t,type:"error",error:"t-SNE worker is dead and cannot process messages"}):"INIT"==e.data.cmd?(a=i.n_(e.data.scranOptions)).then((e=>{o._({id:t,type:"init_worker",data:{status:"SUCCESS"}})})).catch((e=>{o._({id:t,type:"error",error:e})})):"RUN"==e.data.cmd?a.then((r=>{var a;"neighbors"in e.data?(n.xr(l.neighbors),l.neighbors=s.f(e.data.neighbors),a=!0):a=!1;var f={perplexity:e.data.params.perplexity};a||n.PG(f,u)?(n.xr(l.init),l.init=i.LY(l.neighbors,{perplexity:f.perplexity}),u=f,d=!0):d=!1;var h={iterations:e.data.params.iterations};(d||n.PG(h,c))&&(p(e.data.params.animate,h.iterations),c=h),o._({id:t,type:"tsne_run",data:{status:"SUCCESS"}})})).catch((e=>{o._({id:t,type:"error",error:e})})):"RERUN"==e.data.cmd?a.then((e=>{p(!0,c.iterations),o._({id:t,type:"tsne_rerun",data:{status:"SUCCESS"}})})).catch((e=>{o._({id:t,type:"error",error:e})})):"FETCH"==e.data.cmd?a.then((e=>{var r={x:l.final.x.slice(),y:l.final.y.slice(),iterations:c.iterations},a=[r.x.buffer,r.y.buffer];o._({id:t,type:"tsne_fetch",data:r},a)})).catch((e=>{o._({id:t,type:"error",error:e})})):"KILL"==e.data.cmd?(f=!0,a.then((e=>{i.MH(),o._({id:t,type:"tsne_killed",data:null})})).catch((e=>{o._({id:t,type:"error",error:e})}))):o._({id:t,type:"error",error:"unknown message type '"+JSON.stringify(e.data)+"'"})}))},7571:(e,t,r)=>{r.d(t,{LY:()=>y,Us:()=>m});var a=r(5149),i=r(8458),n=r(4558),s=r(7031),o=r(6524),l=r(2322),d=r(4718),u=new WeakMap,c=new WeakMap,f=new WeakMap;class p{constructor(e,t,r){(0,a.A)(this,u,void 0),(0,a.A)(this,c,void 0),(0,a.A)(this,f,void 0),(0,n.A)(u,this,e),(0,n.A)(c,this,t),(0,n.A)(f,this,r)}get status(){return(0,i.A)(c,this)}get coordinates(){return(0,i.A)(f,this)}clone(){return l.T((e=>(0,i.A)(c,this).deepcopy()),p,(0,i.A)(f,this).clone())}numberOfCells(){return(0,i.A)(c,this).num_obs()}iterations(){return(0,i.A)(c,this).iterations()}extractCoordinates(){return s.VM(this.numberOfCells(),(0,i.A)(f,this).array())}free(){null!==(0,i.A)(c,this)&&(l._((0,i.A)(u,this)),(0,n.A)(c,this,null)),null!==(0,i.A)(f,this)&&((0,i.A)(f,this).free(),(0,n.A)(f,this,null))}}function h(e){return o.T1((t=>t.perplexity_to_k(e)))}function y(e){let{perplexity:t=30,checkMismatch:r=!0,numberOfThreads:a=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var i,n,u;let c=s.J2(a);try{let a;if(e instanceof d.pb){let r=h(t);i=(0,d.jw)(e,r,{numberOfThreads:c}),a=i}else{if(r){if(h(t)*e.numberOfCells()!=e.size())throw new Error("number of neighbors in 'x' does not match '3 * perplexity'")}a=e}n=s.k3(2*a.numberOfCells()),o.T1((e=>e.randomize_tsne_start(a.numberOfCells(),n.offset,42))),u=l.T((e=>e.initialize_tsne(a.results,t,c)),p,n)}catch(f){throw s.t9(u),s.t9(n),f}finally{s.t9(i)}return u}function m(e){let{maxIterations:t=1e3,runTime:r=null}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};null===r&&(r=-1),o.T1((a=>a.run_tsne(e.status,r,t,e.coordinates.offset)))}},7990:(e,t,r)=>{r.d(t,{LY:()=>s.LY,MH:()=>a.MH,Us:()=>s.Us,k3:()=>i.k3,kl:()=>i.kl,n_:()=>a.n_,ny:()=>n.ny,t9:()=>i.t9});var a=r(6524),i=r(7031),n=(r(5243),r(7241),r(34),r(209),r(8960),r(3911),r(6077),r(5784),r(5090),r(6876),r(6273),r(6617),r(3261),r(6218),r(886),r(988),r(6497),r(2947),r(4833),r(2695),r(1334),r(693),r(1101),r(4047),r(4718)),s=(r(4011),r(7571));r(8652),r(6869),r(5503),r(1602),r(9841),r(3607),r(8926),r(7579),r(7379),r(9723),r(3128),r(7778),r(9846)},8652:(e,t,r)=>{r(7031),r(6524),r(2322),r(4718)}},t={};function r(a){var i=t[a];if(void 0!==i)return i.exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.m=e,r.x=()=>{var e=r.O(void 0,[764,115],(()=>r(5814)));return e=r.O(e)},(()=>{var e=[];r.O=(t,a,i,n)=>{if(!a){var s=1/0;for(u=0;u<e.length;u++){a=e[u][0],i=e[u][1],n=e[u][2];for(var o=!0,l=0;l<a.length;l++)(!1&n||s>=n)&&Object.keys(r.O).every((e=>r.O[e](a[l])))?a.splice(l--,1):(o=!1,n<s&&(s=n));if(o){e.splice(u--,1);var d=i();void 0!==d&&(t=d)}}return t}n=n||0;for(var u=e.length;u>0&&e[u-1][2]>n;u--)e[u]=e[u-1];e[u]=[a,i,n]}})(),r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[])),r.u=e=>"static/js/"+e+"."+{115:"2207c6d4",764:"c63fbfc6",814:"75f32851"}[e]+".chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.p="/kana/",(()=>{r.b=self.location+"/../../../";var e={433:1};r.f.i=(t,a)=>{e[t]||importScripts(r.p+r.u(t))};var t=self.webpackChunkkana=self.webpackChunkkana||[],a=t.push.bind(t);t.push=t=>{var i=t[0],n=t[1],s=t[2];for(var o in n)r.o(n,o)&&(r.m[o]=n[o]);for(s&&s(r);i.length;)e[i.pop()]=1;a(t)}})(),(()=>{var e=r.x;r.x=()=>Promise.all([r.e(764),r.e(115)]).then(e)})();r.x()})();
//# sourceMappingURL=433.1a280f0e.chunk.js.map